<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Learnix - Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #6a11cb, #2575fc);
      min-height: 100vh;
      font-family: 'Segoe UI', sans-serif;
      color: white;
    }
.btn{
border-color:black;}
    .navbar {
      background-color: #2c3e50;
    }
    .profile-box {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 30px;
      margin-top: 50px;
    }
    .course-card {
      background-color:rgba(255, 255, 255, 0.25);
      border: none;
      border-radius: 12px;
      color: black;
      transition: transform 0.3s ease;
    }
    .course-card:hover {
      transform: translateY(-5px);
      background-color:white;
    }
    .card-img-top {
      height: 180px;
      object-fit: cover;
    }

  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark px-4">
  <a class="navbar-brand text-white" href="#"><h2>LearniX</h2></a>
  <div class="ms-auto dropdown d-flex align-items-center">
    <span class="text-white me-2 fw-semibold" id="userName">Hi, User</span>
    <a class="nav-link dropdown-toggle text-white" href="#" id="profileDropdown" role="button" data-bs-toggle="dropdown">
      <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" width="32" height="32" class="rounded-circle" alt="User">
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
      <li><a class="dropdown-item" href="mylearn.html">mylearning</a></li>

      <li><a class="dropdown-item" href="start.html">Logout</a></li>
    </ul>
  </div>
</nav>

<div class="container profile-box text-center">
  <h2>Welcome, Learner!</h2>
  <p>Explore and enroll in courses below.</p>
  <div class="row mt-4" id="courseContainer"></div>
</div>

<script>
const courses = [
  { id: "web-dev", title: "Web Development", description: "Learn HTML, CSS, JS", img: "https://img.youtube.com/vi/UB1O30fR-EE/hqdefault.jpg" },
  { id: "data-structures", title: "Data Structures", description: "Master DS concepts", img: "https://img.youtube.com/vi/WqDvLBOaWXY/hqdefault.jpg" },
  { id: "python", title: "Python Programming", description: "Beginner to Advanced", img: "https://img.youtube.com/vi/rfscVS0vtbw/hqdefault.jpg" },
  { id: "react", title: "React JS", description: "Build React apps", img: "https://img.youtube.com/vi/bMknfKXIFA8/hqdefault.jpg" },
  { id: "node", title: "Node.js & Express", description: "Learn backend with Node", img: "https://img.youtube.com/vi/Oe421EPjeBE/hqdefault.jpg" },
  { id: "mongodb", title: "MongoDB", description: "NoSQL Database guide", img: "https://img.youtube.com/vi/8gNrZ4lAnAw/hqdefault.jpg" },
  { id: "sql", title: "SQL & MySQL", description: "Database queries and joins", img: "https://img.youtube.com/vi/HXV3zeQKqGY/hqdefault.jpg" },
  { id: "ai", title: "Artificial Intelligence", description: "AI basics & applications", img: "https://img.youtube.com/vi/2ePf9rue1Ao/hqdefault.jpg" },
  { id: "git", title: "Git & GitHub", description: "Version control system", img: "https://img.youtube.com/vi/apGV9Kg7ics/hqdefault.jpg" }
];

const enrolledCourses = JSON.parse(localStorage.getItem("enrolledCourses") || "[]");
const container = document.getElementById("courseContainer");

courses.forEach(course => {
  const enrolled = enrolledCourses.includes(course.id);
  const card = document.createElement("div");
  card.className = "col-md-4 mb-4";
  card.innerHTML = `
    <div class="card course-card p-3">
      <img src="${course.img}" class="card-img-top mb-2" alt="${course.title}">
      <h5>${course.title}</h5>
      <p>${course.description}</p>
      <button class="btn ${enrolled ? 'btn-success' : 'btn-light'}" onclick="handleEnroll('${course.id}', this)">
        ${enrolled ? "Continue Learning" : "Enroll Free"}
      </button>
    </div>`;
  container.appendChild(card);
});

function handleEnroll(courseId, btn) {
  const enrolled = JSON.parse(localStorage.getItem("enrolledCourses") || "[]");
  if (!enrolled.includes(courseId)) {
    enrolled.push(courseId);
    localStorage.setItem("enrolledCourses", JSON.stringify(enrolled));
    btn.textContent = "Continue Learning";
    btn.classList.remove("btn-light");
    btn.classList.add("btn-success");
    alert("âœ… Enrolled Successfully!");
  }
  window.location.href = "c.html?course=" + courseId;
}
</script>
<script>
  const allCourses = {
    "web-dev": { title: "Web Development", image: "web.jpg" },
    "python": { title: "Python for Beginners", image: "python.jpg" },
    "react": { title: "React Fundamentals", image: "react.jpg" },
    "nodejs": { title: "Node.js Crash Course", image: "node.jpg" },
    "mongodb": { title: "MongoDB Basics", image: "mongo.jpg" },
    "sql": { title: "SQL & Databases", image: "sql.jpg" },
    "ai": { title: "Introduction to AI", image: "ai.jpg" },
    "git": { title: "Mastering Git & GitHub", image: "git.jpg" }
  };

  const enrolled = JSON.parse(localStorage.getItem("enrolledCourses")) || [];
  const progress = JSON.parse(localStorage.getItem("courseProgress")) || {};

  const courseContainer = document.getElementById("courseList");

  Object.entries(allCourses).forEach(([courseId, course]) => {
    const isEnrolled = enrolled.includes(courseId);
    const courseProgress = Math.floor(progress[courseId] || 0);
    const buttonLabel = isEnrolled ? (courseProgress === 100 ? "Completed ðŸŽ‰" : "Continue Learning") : "Enroll Free";

    const courseCard = document.createElement("div");
    courseCard.className = "course-card";
    courseCard.innerHTML = `
      <img src="${course.image}" alt="${course.title}" style="width:100%; height:180px; object-fit:cover; border-radius:8px 8px 0 0;">
      <h3>${course.title}</h3>
      ${isEnrolled ? `<p>${courseProgress}% completed</p>` : ""}
      <button onclick="${isEnrolled ? `goToCourse('${courseId}')` : `enroll('${courseId}')`}">${buttonLabel}</button>
    `;
    courseContainer.appendChild(courseCard);
  });

  function enroll(courseId) {
    let enrolledCourses = JSON.parse(localStorage.getItem("enrolledCourses")) || [];
    if (!enrolledCourses.includes(courseId)) {
      enrolledCourses.push(courseId);
      localStorage.setItem("enrolledCourses", JSON.stringify(enrolledCourses));
    }
    window.location.href = `cou.html?course=${courseId}`;
  }

  function goToCourse(courseId) {
    window.location.href = `cou.html?course=${courseId}`;
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html> 